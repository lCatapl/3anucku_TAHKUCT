{% extends "base.html" %}
{% block title %}üèÜ –¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤ - –¢–∞–Ω–∫–£—Å—Ç–∏–∫{% endblock %}
{% block content %}
<div class="max-w-6xl mx-auto px-4 py-20">
    <!-- –ó–ê–ì–û–õ–û–í–û–ö –õ–ò–î–ï–†–ë–û–†–î–ê -->
    <div class="text-center mb-24">
        <h1 class="hero-title mb-12" style="background: linear-gradient(135deg, #fbbf24, #f59e0b, #eab308); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            <i class="fas fa-trophy"></i> –ì–õ–û–ë–ê–õ–¨–ù–´–ô –õ–ò–î–ï–†–ë–û–†–î
        </h1>
        <div class="glass-panel inline-flex items-center gap-8 p-6 px-12 text-2xl">
            <span>–¢–æ–ø –ø–æ –ø–æ–±–µ–¥–∞–º</span>
            <div class="w-px h-10 bg-white/30 mx-8"></div>
            <span class="text-yellow-400 font-black text-3xl">–û–±–Ω–æ–≤–ª–µ–Ω–æ: {{ now.strftime('%H:%M %d.%m.%Y') }}</span>
        </div>
    </div>

    <!-- TOP-3 –ö–ê–†–¢–û–ß–ö–ò -->
    <div class="grid md:grid-cols-3 gap-8 mb-16">
        <!-- 1 –ú–ï–°–¢–û -->
        <div class="glass-panel p-12 text-center relative overflow-hidden md:col-span-1" style="background: linear-gradient(135deg, rgba(254, 240, 138, 0.3) 0%, rgba(251, 191, 36, 0.2) 100%); border: 3px solid rgba(251, 191, 36, 0.6);">
            <div class="absolute top-6 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full shadow-2xl flex items-center justify-center z-10">
                <i class="fas fa-crown text-3xl text-black font-bold shadow-lg"></i>
            </div>
            <div class="text-8xl font-black mb-6 text-yellow-400 relative z-20">ü•á</div>
            <div class="w-28 h-28 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full mx-auto mb-8 shadow-2xl border-8 border-white/30 flex items-center justify-center">
                <i class="fas fa-user text-4xl text-black font-bold"></i>
            </div>
            <h2 class="text-4xl font-black mb-6 text-yellow-900">–ù–∞–∑–∞—Ä_–¢—Ä—è—Ö–æ–≤</h2>
            <div class="text-5xl font-black mb-8 text-yellow-600">12,847</div>
            <div class="text-xl text-yellow-800 font-bold mb-4">–í–∏–Ω—Ä–µ–π—Ç: 68.4%</div>
            <div class="text-lg text-yellow-700">–¢–∞–Ω–∫–æ–≤: 28 | –£—Ä. 47</div>
        </div>

        <!-- 2 –ú–ï–°–¢–û -->
        <div class="glass-panel p-12 text-center relative md:row-span-2" style="background: linear-gradient(135deg, rgba(168, 85, 247, 0.2) 0%, rgba(139, 92, 246, 0.3) 100%); border: 3px solid rgba(139, 92, 246, 0.5);">
            <div class="absolute top-6 -right-12 w-20 h-20 bg-gradient-to-br from-purple-400 to-purple-500 rounded-full shadow-xl flex items-center justify-center">
                <i class="fas fa-medal text-2xl text-white font-bold"></i>
            </div>
            <div class="text-8xl font-black mb-6 text-purple-400 relative z-20">ü•à</div>
            <div class="w-24 h-24 bg-gradient-to-br from-purple-400 to-purple-500 rounded-full mx-auto mb-8 shadow-2xl border-6 border-white/40 flex items-center justify-center">
                <i class="fas fa-user text-3xl text-white font-bold"></i>
            </div>
            <h2 class="text-3xl font-black mb-6 text-purple-900">CatNap_WoT</h2>
            <div class="text-4xl font-black mb-8 text-purple-600">9,542</div>
            <div class="text-lg text-purple-800 font-bold mb-4">–í–∏–Ω—Ä–µ–π—Ç: 62.1%</div>
            <div class="text-base text-purple-700">–¢–∞–Ω–∫–æ–≤: 23 | –£—Ä. 39</div>
        </div>

        <!-- 3 –ú–ï–°–¢–û -->
        <div class="glass-panel p-12 text-center relative" style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(16, 185, 129, 0.3) 100%); border: 3px solid rgba(16, 185, 129, 0.5);">
            <div class="absolute top-6 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-20 bg-gradient-to-br from-emerald-400 to-emerald-500 rounded-full shadow-xl flex items-center justify-center">
                <i class="fas fa-award text-2xl text-white font-bold"></i>
            </div>
            <div class="text-8xl font-black mb-6 text-emerald-400 relative z-20">ü•â</div>
            <div class="w-24 h-24 bg-gradient-to-br from-emerald-400 to-emerald-500 rounded-full mx-auto mb-8 shadow-2xl border-6 border-white/40 flex items-center justify-center">
                <i class="fas fa-user text-3xl text-white font-bold"></i>
            </div>
            <h2 class="text-3xl font-black mb-6 text-emerald-900">SteelHunterRU</h2>
            <div class="text-4xl font-black mb-8 text-emerald-600">8,921</div>
            <div class="text-lg text-emerald-800 font-bold mb-4">–í–∏–Ω—Ä–µ–π—Ç: 59.7%</div>
            <div class="text-base text-emerald-700">–¢–∞–Ω–∫–æ–≤: 21 | –£—Ä. 36</div>
        </div>
    </div>

    <!-- –ü–û–õ–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê -->
    <div class="glass-panel p-12">
        <div class="flex justify-between items-center mb-12">
            <h2 class="text-4xl font-bold flex items-center gap-4" style="background: linear-gradient(135deg, #fbbf24, #f59e0b); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                <i class="fas fa-list"></i> –¢–æ–ø-50 –∏–≥—Ä–æ–∫–æ–≤
            </h2>
            <div class="flex gap-4">
                <button onclick="sortTable('wins')" class="bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 text-white px-8 py-3 rounded-2xl font-bold shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all">
                    –ü–æ –ø–æ–±–µ–¥–∞–º
                </button>
                <button onclick="sortTable('winrate')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 text-white px-8 py-3 rounded-2xl font-bold shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all">
                    –ü–æ –≤–∏–Ω—Ä–µ–π—Ç—É
                </button>
            </div>
        </div>

        <!-- FAKE –î–ê–ù–ù–´–ï - –ó–ê–ú–ï–ù–ò –ù–ê –†–ï–ê–õ–¨–ù–´–ï –ò–ó –ë–î -->
        <div class="overflow-x-auto">
            <table class="w-full text-left">
                <thead>
                    <tr class="border-b border-white/20">
                        <th class="py-6 px-8 text-xl font-bold text-yellow-400">#</th>
                        <th class="py-6 px-8 text-xl font-bold text-white">–ò–≥—Ä–æ–∫</th>
                        <th class="py-6 px-8 text-xl font-bold text-emerald-400 text-center">–ü–æ–±–µ–¥—ã</th>
                        <th class="py-6 px-8 text-xl font-bold text-purple-400 text-center">–í–∏–Ω—Ä–µ–π—Ç</th>
                        <th class="py-6 px-8 text-xl font-bold text-blue-400 text-center">–¢–∞–Ω–∫–∏</th>
                        <th class="py-6 px-8 text-xl font-bold text-indigo-400 text-center">–†–∞–Ω–≥</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-white/10">
                    {% for i in range(1, 51) %}
                    <tr class="group hover:bg-white/5 transition-all duration-300 h-20">
                        <td class="py-6 px-8 font-black text-2xl text-yellow-400 group-hover:text-yellow-300">
                            #{{ i }}
                        </td>
                        <td class="py-6 px-8 font-bold text-xl text-white group-hover:text-emerald-300 truncate max-w-xs">
                            Player{{ i }}_{{ "ABCDEF"[i%6] }}{{ i }}
                        </td>
                        <td class="py-6 px-8 text-center">
                            <div class="text-2xl font-black text-emerald-400">{{ (12000 - i*200)|int|comma }}</div>
                        </td>
                        <td class="py-6 px-8 text-center">
                            <div class="text-2xl font-black text-purple-400">{{ (65 - i*0.1)|round(1) }}%</div>
                        </td>
                        <td class="py-6 px-8 text-center">
                            <div class="text-2xl font-black text-blue-400">{{ (25 - i//10)|int }}</div>
                        </td>
                        <td class="py-6 px-8 text-center">
                            <span class="px-4 py-2 bg-gradient-to-r from-indigo-500/30 to-purple-500/30 rounded-full text-indigo-300 font-bold text-sm">
                                –£—Ä. {{ (40 - i//5)|int }}
                            </span>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- –¢–í–û–Å –ú–ï–°–¢–û -->
        <div class="mt-16 pt-12 border-t border-white/20 text-center">
            <h3 class="text-3xl font-bold mb-8 flex items-center justify-center gap-4 text-gray-300">
                <i class="fas fa-user-circle"></i>
                –í–∞—à–µ –º–µ—Å—Ç–æ –≤ —Ç–æ–ø–µ
            </h3>
            <div class="inline-flex items-center gap-8 p-8 px-16 bg-gradient-to-r from-gray-600/50 to-gray-700/50 rounded-3xl backdrop-blur-sm border border-gray-500/50">
                <div class="text-6xl font-black text-gray-400">ü•â #42</div>
                <div>
                    <div class="text-4xl font-black text-emerald-400">{{ player.wins|default(0)|comma }}</div>
                    <div class="text-xl text-gray-400">–ü–æ–±–µ–¥ | {{ (player.wins|default(0) / (player.battles|default(1)) * 100)|round(1) }}% –≤–∏–Ω—Ä–µ–π—Ç</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ë–´–°–¢–†–´–ï –ö–ù–û–ü–ö–ò -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-20">
        <a href="/" class="glass-panel p-10 text-center hover:bg-emerald-500/20 group">
            <i class="fas fa-home text-5xl text-emerald-400 group-hover:text-emerald-300 mb-6 block transform group-hover:scale-110 transition-all"></i>
            <div class="text-2xl font-bold mb-2">üè† –ê–Ω–≥–∞—Ä</div>
        </a>
        <a href="/battle" class="glass-panel p-10 text-center hover:bg-red-500/20 group">
            <i class="fas fa-fire text-5xl text-red-400 group-hover:text-red-300 mb-6 block transform group-hover:scale-110 transition-all"></i>
            <div class="text-2xl font-bold mb-2">‚öîÔ∏è –ê—Ä–µ–Ω–∞</div>
        </a>
        <a href="/shop" class="glass-panel p-10 text-center hover:bg-yellow-500/20 group">
            <i class="fas fa-store text-5xl text-yellow-400 group-hover:text-yellow-300 mb-6 block transform group-hover:scale-110 transition-all"></i>
            <div class="text-2xl font-bold mb-2">üõí –ú–∞–≥–∞–∑–∏–Ω</div>
        </a>
        <a href="/profile" class="glass-panel p-10 text-center hover:bg-purple-500/20 group">
            <i class="fas fa-chart-line text-5xl text-purple-400 group-hover:text-purple-300 mb-6 block transform group-hover:scale-110 transition-all"></i>
            <div class="text-2xl font-bold mb-2">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
        </a>
    </div>
</div>

<script>
let currentSort = 'wins';

function sortTable(column) {
    currentSort = column;
    // –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î
    console.log(`–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ: ${column}`);
}
</script>

<style>
tbody tr:hover {
    transform: scale(1.01);
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}
tbody tr:nth-child(even) { background: rgba(255,255,255,0.02); }
</style>
{% endblock %}
