{% extends "base.html" %}
{% block title %}–ü—Ä–æ—Ñ–∏–ª—å {{ player.username }} - –¢–∞–Ω–∫–£—Å—Ç–∏–∫{% endblock %}
{% block content %}
<div class="max-w-4xl mx-auto px-4 py-20">
    <!-- –ì–ï–†–û–ô –ü–†–û–§–ò–õ–Ø -->
    <div class="text-center mb-20">
        <div class="glass-panel p-12 relative overflow-hidden mb-12">
            <!-- –§–û–ù–û–í–´–ô –ì–†–ê–î–ò–ï–ù–¢ -->
            <div class="absolute inset-0 bg-gradient-to-br from-purple-500/20 via-indigo-500/10 to-pink-500/20"></div>
            
            <!-- –ê–í–ê–¢–ê–† -->
            <div class="w-32 h-32 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full mx-auto mb-8 border-8 border-white/20 shadow-2xl flex items-center justify-center">
                <i class="fas fa-user text-5xl text-white font-bold"></i>
            </div>
            
            <!-- –ò–ú–Ø + –†–ê–ù–ì -->
            <h1 class="text-6xl font-black mb-4 bg-gradient-to-r from-purple-400 to-pink-500 bg-clip-text text-transparent">
                {{ player.username }}
            </h1>
            <div class="inline-flex items-center gap-3 px-8 py-3 bg-gradient-to-r from-emerald-500/30 to-green-500/30 rounded-full border-2 border-emerald-400/50 backdrop-blur-sm">
                <div class="w-4 h-4 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full shadow-lg"></div>
                <span class="text-2xl font-bold text-emerald-400">{{ player.rank|default('–°–æ–ª–¥–∞—Ç') }}</span>
            </div>
        </div>

        <!-- –û–°–ù–û–í–ù–´–ï –°–¢–ê–¢–ò–°–¢–ò–ö–ò -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-16">
            <!-- –õ–ï–í–´–ô –ë–õ–û–ö - –†–ï–°–£–†–°–´ -->
            <div class="glass-panel p-10">
                <h2 class="text-3xl font-bold mb-10 flex items-center gap-4" style="background: linear-gradient(135deg, #facc15, #eab308); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    <i class="fas fa-coins"></i> –†–µ—Å—É—Ä—Å—ã
                </h2>
                <div class="space-y-6">
                    <div class="flex items-center justify-between p-6 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-3xl border border-yellow-400/30">
                        <div class="flex items-center gap-4">
                            <div class="w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl flex items-center justify-center shadow-xl">
                                <i class="fas fa-coins text-2xl text-black font-bold"></i>
                            </div>
                            <div>
                                <div class="text-4xl font-black text-yellow-400">{{ player.gold|comma }}</div>
                                <div class="text-lg text-yellow-300 font-semibold">–ó–æ–ª–æ—Ç–æ</div>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center justify-between p-6 bg-gradient-to-r from-gray-500/10 to-gray-600/10 rounded-3xl border border-gray-400/30">
                        <div class="flex items-center gap-4">
                            <div class="w-16 h-16 bg-gradient-to-br from-gray-400 to-gray-500 rounded-2xl flex items-center justify-center shadow-xl">
                                <i class="fas fa-coins text-2xl text-black font-bold"></i>
                            </div>
                            <div>
                                <div class="text-4xl font-black text-gray-300">{{ player.silver|comma }}</div>
                                <div class="text-lg text-gray-400 font-semibold">–°–µ—Ä–µ–±—Ä–æ</div>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center justify-between p-6 bg-gradient-to-r from-blue-500/10 to-indigo-500/10 rounded-3xl border border-blue-400/30">
                        <div class="flex items-center gap-4">
                            <div class="w-16 h-16 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-2xl flex items-center justify-center shadow-xl">
                                <i class="fas fa-star text-2xl text-black font-bold"></i>
                            </div>
                            <div>
                                <div class="text-4xl font-black text-blue-400">{{ player.points|default(0)|comma }}</div>
                                <div class="text-lg text-blue-300 font-semibold">–û—á–∫–∏ –æ–ø—ã—Ç–∞</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ü–†–ê–í–´–ô –ë–õ–û–ö - –ë–û–ï–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
            <div class="glass-panel p-10">
                <h2 class="text-3xl font-bold mb-10 flex items-center gap-4" style="background: linear-gradient(135deg, #ef4444, #f97316); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    <i class="fas fa-fire"></i> –ë–æ–µ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                </h2>
                <div class="space-y-6">
                    <div class="flex items-center justify-between p-6 bg-gradient-to-r from-emerald-500/20 to-green-500/20 rounded-3xl border border-emerald-400/50 text-center">
                        <div>
                            <div class="text-4xl font-black text-emerald-400">{{ player.wins|default(0)|comma }}</div>
                            <div class="text-xl font-bold text-emerald-300">–ü–æ–±–µ–¥</div>
                        </div>
                        <div class="w-px h-20 bg-white/20 mx-6"></div>
                        <div>
                            <div class="text-4xl font-black text-gray-400">{{ player.battles|default(0)|comma }}</div>
                            <div class="text-xl font-bold text-gray-300">–ë–æ—ë–≤</div>
                        </div>
                    </div>
                    {% set winrate = (player.wins|default(0) / (player.battles|default(1)) * 100)|round(1) %}
                    <div class="p-8 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-3xl border border-purple-400/50 text-center">
                        <div class="text-5xl font-black mb-4" style="background: linear-gradient(135deg, #a855f7, #ec4899); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                            {{ winrate }}%
                        </div>
                        <div class="text-2xl font-bold text-purple-300">–í–∏–Ω—Ä–µ–π—Ç</div>
                        {% if winrate >= 60 %}
                            <div class="mt-2 text-emerald-400 font-bold text-lg flex items-center justify-center gap-2">
                                <i class="fas fa-crown"></i> –≠–õ–ò–¢–ù–´–ô
                            </div>
                        {% elif winrate >= 50 %}
                            <div class="mt-2 text-yellow-400 font-bold text-lg flex items-center justify-center gap-2">
                                <i class="fas fa-star"></i> –û–¢–õ–ò–ß–ù–´–ô
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        <!-- –ü–†–û–ì–†–ï–°–° –ò –¢–ê–ù–ö–ò -->
        <div class="glass-panel p-10 mb-16">
            <h2 class="text-4xl font-bold mb-12 text-center flex items-center justify-center gap-4" style="background: linear-gradient(135deg, #10b981, #059669); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                <i class="fas fa-chart-line"></i> –ü—Ä–æ–≥—Ä–µ—Å—Å
            </h2>
            <div class="grid md:grid-cols-3 gap-8">
                <!-- –£–†–û–í–ï–ù–¨ -->
                <div class="text-center">
                    <div class="text-5xl font-black mb-4 text-emerald-400">{{ player.level|default(1) }}</div>
                    <div class="text-xl font-bold text-emerald-300 mb-6">–£—Ä–æ–≤–µ–Ω—å</div>
                    <div class="w-full bg-gray-700 rounded-full h-4">
                        <div class="bg-gradient-to-r from-emerald-500 to-green-500 h-4 rounded-full" style="width: {{ (player.level|default(1) % 10 / 10 * 100)|round }}%"></div>
                    </div>
                </div>
                <!-- –¢–ê–ù–ö–ò -->
                <div class="text-center">
                    <div class="text-5xl font-black mb-4 text-blue-400">{{ player.tanks|length }}</div>
                    <div class="text-xl font-bold text-blue-300 mb-6">–¢–∞–Ω–∫–æ–≤</div>
                    <div class="w-full bg-gray-700 rounded-full h-4">
                        <div class="bg-gradient-to-r from-blue-500 to-indigo-500 h-4 rounded-full" style="width: 75%"></div>
                    </div>
                </div>
                <!-- –†–ê–ù–ì -->
                <div class="text-center">
                    <div class="text-5xl font-black mb-4 text-purple-400">ü•á #{{ player.rank_position|default(42) }}</div>
                    <div class="text-xl font-bold text-purple-300 mb-6">–ú–µ—Å—Ç–æ –≤ —Ç–æ–ø–µ</div>
                    <div class="w-full bg-gray-700 rounded-full h-4">
                        <div class="bg-gradient-to-r from-purple-500 to-pink-500 h-4 rounded-full" style="width: {{ (100 - (player.rank_position|default(42)|int)) / 100 * 100 }}%"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ë–´–°–¢–†–´–ï –î–ï–ô–°–¢–í–ò–Ø -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 pt-12 border-t border-white/10">
            <a href="/shop" class="group glass-panel p-8 text-center hover:bg-emerald-500/20 transition-all duration-300 hover:-translate-y-2">
                <i class="fas fa-shopping-cart text-4xl text-emerald-400 group-hover:text-emerald-300 mb-4 block"></i>
                <div class="text-xl font-bold mb-2">üõí –ú–∞–≥–∞–∑–∏–Ω</div>
                <div class="text-gray-400">–ö—É–ø–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∞–Ω–∫–∏</div>
            </a>
            <a href="/garage" class="group glass-panel p-8 text-center hover:bg-blue-500/20 transition-all duration-300 hover:-translate-y-2">
                <i class="fas fa-warehouse text-4xl text-blue-400 group-hover:text-blue-300 mb-4 block"></i>
                <div class="text-xl font-bold mb-2">üè™ –ì–∞—Ä–∞–∂</div>
                <div class="text-gray-400">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–∞–Ω–∫–∏</div>
            </a>
            <a href="/battle" class="group glass-panel p-8 text-center hover:bg-red-500/20 transition-all duration-300 hover:-translate-y-2">
                <i class="fas fa-fire text-4xl text-red-400 group-hover:text-red-300 mb-4 block"></i>
                <div class="text-xl font-bold mb-2">‚öîÔ∏è –ê—Ä–µ–Ω–∞</div>
                <div class="text-gray-400">–ù–∞—á–∞—Ç—å –±–æ–π</div>
            </a>
        </div>
    </div>
</div>

<style>
.glass-panel {
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}
.glass-panel:hover {
    transform: translateY(-4px);
    box-shadow: 0 35px 80px -20px rgba(0, 0, 0, 0.6);
}
@keyframes glow {
    0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.5); }
    50% { box-shadow: 0 0 40px rgba(139, 92, 246, 0.8); }
}
@media (max-width: 768px) {
    .grid { grid-template-columns: 1fr !important; }
}
</style>
{% endblock %}
